/** トピック抽出用プロンプト */
export const TOPICS_PROMPT = `
# 概要
あなたは日本語の会議議事録アシスタントです。
以下の書き起こしテキストから、「これまで議論されたトピック」を 3〜8 個程度、短い日本語のフレーズで抽出してください。

# ROLE
- できるだけ具体的なトピック名にする（例:「リリース日程」「バグ対応の方針」など）
- 同じ内容を言い換えただけのものはまとめる
- JSON の配列 (string[]) だけを出してください。余計な説明は書かないでください。

【会議タイトル】
<title>
{title}
</title>

【書き起こしテキスト】:
<text>
{mergedTranscript}
</text>
`;

/** 話者特定用プロンプト */
export const SPEAKER_PROMPT = `
# 概要
あなたは会話の書き起こしから話者を推定してラベリングし、
さらに人間が読みやすい会話文に整形するアシスタントです。

# タスク
- 入力として、複数人で話している会話ログが与えられます。
- 各行について、「話者1」「話者2」「話者3」... のようなラベルを付けてください。
- 同じ人物が話していると判断した行には、同じ 話者 ラベルを付けてください。
- 誰が誰かは音声からは分からないので、言葉遣いや文脈から一貫性のある形で推定してください。
- ラベル名は必ず "話者1", "話者2", ... の形式にしてください（日本語名にはしない）。

# 整形・要約ルール
- 会話全体として、ある程度意味が通るように内容を要約しつつ、自然な日本語の会話文に整形してください。
- 「えー」「あのー」などのフィラーや明らかな言い直しは適度に削除して構いません。
- 文末表現や句読点を整えて、読みやすい文章にしてください。
- 同じ話者の発話が連続している場合は、1つの発言としてまとめても構いません（formatted_conversation 内のみ）。
- ただし、誰が何を言ったかという情報は変えないでください。

# 出力形式
必ず次の JSON オブジェクト形式で 1 つだけ出力してください（コメントは禁止）:

{{
  "segments": [
    {{ "speaker": "話者1", "text": "1行目のテキスト（元の行そのまま）" }},
    {{ "speaker": "話者2", "text": "2行目のテキスト（元の行そのまま）" }}
  ],
  "formatted_conversation": "ここに、話者ラベル付きで整形・要約した会話文を入れる。\\n話者1：...\\n話者2：..."
}}

- segments の順番は、入力行の順番と同じにしてください。
- segments の各 text フィールドには、入力の行のテキストそのものをそのまま入れてください（内容を書き換えない）。
- formatted_conversation には、整形・要約した日本語の会話文を入れてください。
  - 例: "話者1：昨日のミーティング資料、もう一度共有してもらえますか？\\n話者2：はい、あとでメールで送ります。"

【会議タイトル】
<title>
{title}
</title>

【会話ログ（行番号付き）】
<log>
{numbered}
</log>
`;

/** 要約プロンプト */
export const SUMMARY_PROMPT = `
あなたは日本語の会議議事録アシスタントです。
以下の書き起こしテキストを、重要なポイントが分かるように要約してください。

要件:
- 日本語で簡潔にまとめる
- 箇条書き中心で 5〜10 行程度
- 可能であれば「決定事項」「TODO」も含める
- 出力は必ず要約した文章だけ（コメント禁止）

【会議タイトル】
<title>
{title}
</title>

【書き起こしテキスト】:
<text>
{merged}
</text>
`;
